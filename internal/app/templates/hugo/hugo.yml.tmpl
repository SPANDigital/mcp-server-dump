# Hugo Configuration for {{ .Name }}
# Generated by mcp-server-dump v{{ .GeneratorVersion }}
# Uses Hugo Modules (modern approach, no git submodules needed)

# Basic site settings
{{- if .HugoConfig.BaseURL }}
baseURL: '{{ .HugoConfig.BaseURL }}'
{{- else }}
# baseURL: 'https://your-site.com'  # Set your site's URL
{{- end }}

{{- if .HugoConfig.LanguageCode }}
languageCode: '{{ .HugoConfig.LanguageCode }}'
{{- else }}
languageCode: 'en-us'
{{- end }}

title: '{{ .Name }} Documentation'
description: 'Documentation for {{ .Name }}{{ if .Version }} v{{ .Version }}{{ end }}'

# Hugo Modules configuration (replaces git submodule themes)
module:
  imports:
    - path: github.com/imfing/hextra  # Modern documentation theme with left sidebar

# Theme configuration - not needed when using modules
# theme: []  # Omit theme setting when using Hugo modules

# Content and publishing settings
contentDir: 'content'
publishDir: 'public'
staticDir: 'static'

# Markup settings optimized for Hextra theme
markup:
  goldmark:
    renderer:
      unsafe: true  # Allow HTML in markdown
    extensions:
      passthrough:
        delimiters:
          block: [['\[', '\]'], ["$$", "$$"]]
          inline: [['\(', '\)']]
        enable: true  # Enable math expressions
  highlight:
    style: github
    lineNos: true
    codeFences: true
    guessSyntax: true
    lineNumbersInTable: false
    noClasses: false

# Site parameters (Hextra theme configuration)
params:
  # Navbar configuration
  navbar:
    displayTitle: true
    displayLogo: {{if .HugoConfig.SiteLogo}}true{{else}}false{{end}}
    {{- if .HugoConfig.SiteLogo }}
    logo:
      path: "{{ .HugoConfig.SiteLogo }}"
      width: 40
      height: 40
      link: /
    {{- end }}

  # Footer configuration
  footer:
    enable: true
    displayCopyright: true
    displayPoweredBy: true
    width: wide

  # Theme and display
  theme:
    default: auto
    displayToggle: true

  # Edit page functionality
  editURL:
    enable: {{if .HugoConfig.Github}}true{{else}}false{{end}}
    {{- if .HugoConfig.Github }}
    base: "https://github.com/{{ .HugoConfig.Github }}/edit/main"
    {{- end }}

  # Search configuration (Hextra built-in search)
  search:
    enable: true
    type: flexsearch

  # MCP Server specific information
  mcp_server_name: "{{ .Name }}"
  {{- if .Version }}
  mcp_server_version: "{{ .Version }}"
  {{- end }}
  description: "Documentation for {{ .Name }}{{ if .Version }} v{{ .Version }}{{ end }}"

  # Capabilities summary
  {{- if .Capabilities.Tools }}
  has_tools: true
  tools_count: {{ len .Tools }}
  {{- end }}
  {{- if .Capabilities.Resources }}
  has_resources: true
  resources_count: {{ len .Resources }}
  {{- end }}
  {{- if .Capabilities.Prompts }}
  has_prompts: true
  prompts_count: {{ len .Prompts }}
  {{- end }}

# Navigation menu (optimized for Hextra left sidebar)
menu:
  main:
    - name: "Documentation"
      pageRef: /
      weight: 1
    {{- if .Tools }}
    - name: "Tools"
      pageRef: /tools
      weight: 10
    {{- end }}
    {{- if .Resources }}
    - name: "Resources"
      pageRef: /resources
      weight: 20
    {{- end }}
    {{- if .Prompts }}
    - name: "Prompts"
      pageRef: /prompts
      weight: 30
    {{- end }}
    - name: "Search"
      weight: 40
      params:
        type: search
    {{- if .HugoConfig.Github }}
    - name: "GitHub"
      weight: 50
      url: "https://github.com/{{ .HugoConfig.Github }}"
      params:
        icon: github
    {{- end }}
    {{- if .HugoConfig.Twitter }}
    - name: "Twitter"
      weight: 51
      url: "https://twitter.com/{{ .HugoConfig.Twitter }}"
      params:
        icon: x-twitter
    {{- end }}

  # Sidebar extra links for better navigation
  sidebar:
    - name: "MCP Server Details"
      params:
        type: separator
      weight: 1
    - name: "Server Info"
      pageRef: "/"
      weight: 2
    {{- if .Tools }}
    - name: "Tools ({{ len .Tools }})"
      pageRef: "/tools"
      weight: 10
    {{- end }}
    {{- if .Resources }}
    - name: "Resources ({{ len .Resources }})"
      pageRef: "/resources"
      weight: 20
    {{- end }}
    {{- if .Prompts }}
    - name: "Prompts ({{ len .Prompts }})"
      pageRef: "/prompts"
      weight: 30
    {{- end }}

# Taxonomies (categories and tags)
taxonomies:
  category: categories
  tag: tags

# Build settings (optimized for Hextra)
build:
  writeStats: true

# Enable additional features
enableEmoji: true
enableGitInfo: true
enableRobotsTXT: true

# Privacy settings
privacy:
  disqus:
    disable: true
  googleAnalytics:
    respectDoNotTrack: true
    anonymizeIP: true
    {{- if not .HugoConfig.GoogleAnalytics }}
    disable: true
    {{- end }}

# Security settings (Hugo modules compatible)
security:
  enableInlineShortcodes: false
  exec:
    allow: ['^dart-sass-embedded$', '^go$', '^npx$', '^postcss$']
    osEnv: ['(?i)^((HTTPS?|NO)_PROXY|PATH(EXT)?|APPDATA|TE?MP|TERM|GO\w+|(XDG_)?CACHE_HOME|YARN_CACHE_FOLDER)$']

# Output formats (enhanced for documentation)
outputs:
  home: ["HTML", "RSS", "JSON"]
  page: ["HTML"]
  section: ["HTML", "RSS"]

# Related content settings for better navigation
related:
  includeNewer: true
  threshold: 80
  toLower: true
  indices:
    - name: "categories"
      weight: 100
    - name: "tags"
      weight: 80

# Sitemap configuration
sitemap:
  changeFreq: "weekly"
  priority: 0.5

# Google Analytics (GA4 format)
{{- if .HugoConfig.GoogleAnalytics }}
googleAnalytics: "{{ .HugoConfig.GoogleAnalytics }}"
{{- end }}

# Hugo Modules settings for development
# Uncomment for offline development:
# module:
#   proxy: off
#   workspace: hugo.work